<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All the Fishes</title>
    <script src="https://pixijs.download/release/pixi.js"></script>
</head>

<body>

    <script type="module">

        const app = new PIXI.Application();
        await app.init({
            width: 640,
            height: 480,
            backgroundColor: (0x00FFFF)
        });
        //Add canvas to body
        document.body.appendChild(app.canvas);


        //Load in sprite
        await PIXI.Assets.load('img/aquarium_PNG42.png');

        //Add sprite
        let fish = PIXI.Sprite.from('img/aquarium_PNG42.png');
        fish.height = 400;
        fish.scale.x = -.95;
        fish.anchor.x = .500;
        fish.anchor.y = .500;
        fish.tint = 0xFFFFFF;
        fish.x = 350;
        fish.y = 300;

        app.stage.addChild(fish);

        //Load in sprite
        await PIXI.Assets.load('img/plant.png');

        //Add sprite
        let plant = PIXI.Sprite.from('img/plant.png');
        plant.scale.x = .3;
        plant.anchor.x = .2;
        plant.anchor.y = .25;

        app.stage.addChild(plant);

        //Load in sprite
        await PIXI.Assets.load('img/coral-reef.png');

        //Add sprite
        let coral = PIXI.Sprite.from('img/coral-reef.png');
        coral.height = 400;
        coral.scale.x = .1;
        coral.anchor.x = .200;
        coral.anchor.y = .400;
        coral.tint = 0xFF00F;
        coral.x = 500;
        coral.y = 300;

        app.stage.addChild(coral);



        //Load in sprite
        await PIXI.Assets.load('img/bubbles-Transparent-Image-1.png')

        //Add sprite
        let bubbles = PIXI.Sprite.from('img/bubbles-Transparent-Image-1.png');
        bubbles.height = 400;
        bubbles.scale.x = -.95;
        bubbles.anchor.x = .500;
        bubbles.anchor.y = .500;
        bubbles.tint = 0xFFFFFF;
        bubbles.x = 350;
        bubbles.y = 300;

        app.stage.addChild(bubbles);




        //Load in sprite
        await PIXI.Assets.load('img/R.png');

        //Add sprite
        let fish1 = PIXI.Sprite.from('img/R.png');
        fish1.scale.set(.25);
        fish1.scale.x = -.55;
        fish1.anchor.x = .8;
        fish1.anchor.y = .5;
        fish1.tint = 0xFF00FF;
        fish1.x = 400;
        fish1.y = 200;

        app.stage.addChild(fish1);

        //add it to the stage
        let fish2 = PIXI.Sprite.from('img/R.png');
        fish2.scale.set(.25);
        fish2.anchor.set(.10, .5);
        fish2.tint = 0xFFFFFF;
        fish2.x = 50;
        fish2.y = 200;

        app.stage.addChild(fish2);

        //Add it to the stage
        let fish3 = PIXI.Sprite.from('img/R.png');
        fish3.scale.set(.25);
        fish3.anchor.set(.5, .10);
        fish1.scale.x = -.55;
        fish1.anchor.x = .8;
        fish1.anchor.y = .5;
        fish3.tint = 0xFFF000;
        fish3.x = 200;
        fish3.y = 200;

        app.stage.addChild(fish3);

        //Fish container
        let fishContainer = new PIXI.Container();
        fishContainer.addChild(fish2);
        fishContainer.x = 100;
        fishContainer.y = 20;

        //Add it to the stage

        app.stage.addChild(fishContainer);

        let fishbowl = ('img/aquarium_PNG42.png');




        //Counter
        let counter = 0;

        //Animation loop
        function loop() {
            counter++;

            //Fish 1 Animation
            fish1.y = (Math.sin(counter / 40) * 50) + 200;
            fish1.angle = (Math.sin(counter / 70) * 7);
            fish1.scale.x = (Math.sin(counter / 2) * .005) + -.25;

            //Fish 2 Animation
            fish2.y = (Math.sin(counter / 60) * 50) + 150;
            fish2.angle = (Math.sin(counter / 70) * 7);
            fish2.scale.x = (Math.sin(counter / 4.5) * .005) + .25;

            //Fish 3 Animation
            fish3.y = (Math.sin(counter / 40) * 60) + 150;
            fish3.angle = (Math.sin(counter / 20) * 9);
            fish3.scale.x = (Math.sin(counter / 10) * .08) + .25;

            requestAnimationFrame(loop);

        }



        loop();


    </script>

</body>

</html>