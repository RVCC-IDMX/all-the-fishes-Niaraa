<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All the Fishes</title>
    <script src="https://pixijs.download/release/pixi.js"></script>
</head>

<body>

    <script type="module">

        const app = new PIXI.Application();
        await app.init({
            width: 640,
            height: 480,
            backgroundColor: 0x000000
        });
        //Add canvas to body
        document.body.appendChild(app.canvas);

        //Load in sprite
        await PIXI.Assets.load('img/R.png');

        //Add first sprite
        let fish1 = PIXI.Sprite.from('img/R.png');
        fish1.scale.set(.25);
        fish1.scale.x = -.25;
        fish1.anchor.x = .8;
        fish1.anchor.y = .5;
        fish1.tint = 0xFF00FF;
        fish1.x = 300;
        fish1.y = 200;

        //add it to the stage
        //app.stage.addChild(fish1);
        let fish2 = PIXI.Sprite.from('img/R.png');
        fish2.scale.set(.25);

        fish2.anchor.set(.8, .5);
        fish2.tint = 0xFFFFFF;
        fish2.x = 180;
        Fish2.y = 150;

    //Add it to the stage
    //app.stage.addChild(fish2);

    //Fish container
    let fishContainer = new PIXI.Container();
    fishContainer.addChild(fish2);
    fishContainer.x = 100;
    fishContainer.y = 20;

    //Add it to the stage

    app.stage.addChild(fishContainer);

    //Counter
    let counter = 0;

    //Animation loop
    function loop() {
            counter++;

            //Fish 1 Animation
            fish1.y = I(Math.sin(counter/40) * 50) + 200;
            fish1.angle = (Math.sin(counter/70) * 7); 
            fish1.scale.x = (Math.sin(counter/2) * .005) + -.25;

            //Fish 2 Animation
            fish2.y = (Math.sin(counter/50)* 30) + 150;
            fish2.scale.x = (Math.sin(counter/2.5) * .005) + .25;

            requestAnimationFrame(loop);

        }



loop();


    </script>

</body>

</html>